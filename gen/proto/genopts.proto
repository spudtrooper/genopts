syntax = "proto2";

package gen.proto;

option go_package = "gen/proto";

message GenOptsSpec {
  optional string opt_type = 1;
  optional string prefix = 2;
  optional string impl_type = 3;
  repeated Field required_fields = 4;
  repeated string extended_types = 5;
  optional string outfile = 6;
  optional string function = 7;
  optional FieldDef field_defs = 8;
}

message FieldDef {
  optional string name = 1;
  optional FieldType type = 2;
}

enum KnownFieldType {
  TYPE_UNKNOWN = 0;
  TYPE_STRING = 1;
  TYPE_INT = 2;
  TYPE_FLOAT32 = 3;
  TYPE_BOOL = 4;
  TYPE_DURATION = 5;
  TYPE_TIME = 6;
}

message FieldType {
  oneof kind {
    KnownFieldType known = 1;
    string named = 2;
  }
}

message Field {
  optional string name = 1;
  optional FieldType type = 2;
}
